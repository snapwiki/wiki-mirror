<div class="mw-parser-output"><p>A <b>hat block</b> is a block placed at the top of a script to run it once an event was triggered. Top level scripts without hat blocks will never run (unless clicked). Hat blocks cannot be placed inside scripts, with or without rings. In Snap 6.0, there are 6 hat blocks, one only for sprites. All hat blocks are currently in control.</p><table class="wikitable"><tbody><tr><th>Block</th><th>Function</th><th>Options</th></tr><tr><td><div class="center"><div class="floatnone"><a href="https://snapwiki.miraheze.org/wiki/File:OnFlagClick.png" class="image"><img alt="OnFlagClick.png" src="//static.miraheze.org/snapwikiwiki/7/71/OnFlagClick.png" decoding="async" width="108" height="38" data-file-width="108" data-file-height="38"></a></div></div></td><td>Triggers when the <a href="https://snapwiki.miraheze.org/wiki/Green_Flag" title="Green Flag">green flag</a> is clicked by the user.</td></tr><tr><td><div class="center"><div class="floatnone"><a href="https://snapwiki.miraheze.org/wiki/File:OnKeyPress.png" class="image"><img alt="OnKeyPress.png" src="//static.miraheze.org/snapwikiwiki/c/c6/OnKeyPress.png" decoding="async" width="164" height="37" data-file-width="164" data-file-height="37"></a></div></div></td><td>Triggers when the key selected is pressed. <a href="https://snapwiki.miraheze.org/w/index.php?title=Thread_Safe_Scripts&amp;action=edit&amp;redlink=1" class="new" title="Thread Safe Scripts (page does not exist)">Thread safe scripts</a> is always on for these scripts. Triggers again for the key repeat interval of the computer. The input is evaluated when any key is pressed.</td><td><ul><li>[0-9]</li><li>any key</li><li>up arrow</li><li>down arrow</li><li>right arrow</li><li>left arrow</li><li>space</li><li>+</li><li>-</li><li>[a-z]</li></ul></td></tr><tr><td><div class="center"><div class="floatnone"><a href="https://snapwiki.miraheze.org/wiki/File:OnSpriteEffect.png" class="image"><img alt="OnSpriteEffect.png" src="//static.miraheze.org/snapwikiwiki/6/60/OnSpriteEffect.png" decoding="async" width="124" height="37" data-file-width="124" data-file-height="37"></a></div></div></td><td>Triggers when the action selected is done to the sprite. It will also trigger for the stage if the action is done anywhere. Stopped is triggered when the user clicks the stop sign. It triggers one frame before the scripts are stopped. The input is evaluated when any of the actions are done.</td><td><ul><li>clicked</li><li>pressed</li><li>dropped</li><li>mouse-entered</li><li>mouse-departed</li><li>scrolled-up</li><li>scrolled-down</li><li>stopped</li></ul></td></tr><tr><td><div class="center"><div class="floatnone"><a href="https://snapwiki.miraheze.org/wiki/File:OnMessage.png" class="image"><img alt="OnMessage.png" src="//static.miraheze.org/snapwikiwiki/d/df/OnMessage.png" decoding="async" width="123" height="37" data-file-width="123" data-file-height="37"></a></div></div></td><td>Triggers when a broadcast block is run, and the broadcast input is the same as this input. The input is evaluated when any broadcast block is activated.</td><td>Any string literal.</td></tr><tr><td><div class="center"><div class="floatnone"><a href="https://snapwiki.miraheze.org/wiki/File:OnBooleanTrue.png" class="image"><img alt="OnBooleanTrue.png" src="//static.miraheze.org/snapwikiwiki/0/00/OnBooleanTrue.png" decoding="async" width="105" height="34" data-file-width="105" data-file-height="34"></a></div></div></td><td>Triggers when the input is evaluated to true. The input is evaluated every frame. However, when the stop sign is clicked, all these inputs stop evaluating. They evaluate again when the stop sign is clicked again or the green flag is clicked.</td><td>Any boolean, usually not literal.</td></tr><tr><td><div class="center"><div class="floatnone"><a href="https://snapwiki.miraheze.org/wiki/File:OnLoadThisClone.png" class="image"><img alt="OnLoadThisClone.png" src="//static.miraheze.org/snapwikiwiki/d/de/OnLoadThisClone.png" decoding="async" width="149" height="33" data-file-width="149" data-file-height="33"></a></div></div></td><td>Triggers on every clone exactly once, right after it is created. It is only for sprites.</td></tr><tr><td><div class="center"><div class="floatnone"><a href="https://snapwiki.miraheze.org/wiki/File:Myblock-hat.png" class="image"><img alt="Myblock-hat.png" src="//static.miraheze.org/snapwikiwiki/0/05/Myblock-hat.png" decoding="async" width="105" height="46" data-file-width="105" data-file-height="46"></a></div></div></td><td>Triggers when a custom block is ran</td><td></td></tr></tbody></table><h2><span class="mw-headline" id="Hat_Blocks_in_Grey_Rings">Hat Blocks in Grey Rings</span></h2><p>It is not possible to put hat blocks in grey rings in the editor, but it is possible by editing the project xml. You can find all the hat blocks in grey rings in <span class="plainlinks"><a rel="nofollow" class="external text" href="https://snap.berkeley.edu/project?user=ego-lay_atman-bay&amp;project=hat%20blocks%20in%20grey%20rings">this project</a></span> .</p></div>